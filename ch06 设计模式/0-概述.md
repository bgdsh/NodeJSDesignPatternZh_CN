# 设计模式

设计模式是对常见问题的可重用解决方案；这一术语的定义非常宽泛，设计应用开发的多个领域。但它常与众所周知的一组面向对象的模式联系起来，这些模式是由90年代的一本叫做《设计模式：可重用的面向对象软件元素》介绍并流行起来的，这本书的作者是传说中的**四人帮（GoF）**Erich Gamma、Richard Helm、Ralph Johnson和John Vlissides。我们一般把这一组特定的模式称为**传统**设计模式，或者是GoF模式。

在JavaScript中使用这一组面向对象的设计模式并不是那么直接、通用。总所周知，JavaScript是一种多范式、面向对象、基于原型、动态类型的语言；将函数作为一等公民，允许函数式编程。这些特性使JavaScript非常易用，给开发者带来了极大地便利，但与此同时它导致了其生态系统中编程风格、习惯、技术，最终是模式的碎片化。在JavaScript中，可以有很多种方式达成同一目的，因此每个人对于何为最佳方案各执一词。一个典型的例证便是生态系统中大量的框架和观点鲜明的类库的存在；尤其是Node.js现在带来了新奇的可能性、创造了新的应用场景之后。或许没有哪个语言出现过这种情况。

在这一章，会在传统的设计模式中融入JavaScript的特性。有些传统的强面向对象的模式可以被实现，那么他们将继续作为一种模式；此外，有些模式由于JavaScript没有**真正**的类或者抽象接口，因此是不可能实现的。唯一不变的是解决方案中所蕴含的每种模式的原始动机、要解决的问题、概念。

在这一章，我们将讨论如何将最重要的GoF模式应用到Node.js中，领悟其中的哲学，即从另一个角度发现这个模式的重要性。同时，也会讲到一些由JavaScript生态系统产生的不太传统的设计模式。

本章将要谈到的设计模式有：

* 工厂模式
* 构造器发现
* 代理模式
* 装饰器模式
* 适配器模式
* 策略模式
* 状态模式
* 模板
* 中间件模式
* 命令模式