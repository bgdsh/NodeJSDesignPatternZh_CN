# 消息系统基础
当我们说到消息和消息系统，有四个基本点需要考虑，它们是：

* 通信的方向，可以是只有单向或者请求/回复交换
* 消息的意图，也决定了它的内容
* 消息的时间，可以发送后立即接收或过一会（异步）
* 消息的传输，可以直接也可以通过消息代理

这一节将会概述这些话题，作为后续讨论的基础。

## 单向和请求/回复模式
消息系统最基础的方面是通信的方向，同时也决定了代码的编写方法。
最简单的通信模式是但消息被推送后，从源到目标是**单向**的，这种情形是明显的，不需要太多解释。

![](../images/message_one_way.png)

典型的单向通信的例子是邮件，或使用Websocket给链接的浏览器发送消息的web服务器，或者一个把任务分配给工作进程的系统。
**请求/回复**模式比只有单向的模式更流行，典型的例子是触发web服务。下图展示了一个简单的总所周知的场景：

![](../images/message_request_reply.png)

请求/回复模式看起来像是一个很容易实现的模式；然而，当通信是异步的或者引入了多个节点之后，他会变得更加复杂一些。看下图中的例子：

![](../images/message_more_nodes.png)

根据前图所示的架构，我们可以看到请求/回复模式的复杂性。如果考虑到任意两个节点间的通信方向，可以确定它们是单向的。然而，从一个全局角度看，初始化器发送一个请求，依次接收到一个相关的响应，即使来自不同的节点。在这种情况下，**请求/回复**模式和单纯的单向模式不同的是请求和回复之间的关系，这个保存在初始化器中。请求通常在和请求相同的上下文中被处理。

## 消息类型

## 异步消息和队列

## 点到点或基于代理的消息


